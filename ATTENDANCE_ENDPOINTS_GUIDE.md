# ุฏููู ุดุงูู ูู Attendance Service Endpoints

## ๐ ุงููุญุชููุงุช
1. [Work Schedules (ุฌุฏุงูู ุงูุฏูุงู)](#work-schedules-ุฌุฏุงูู-ุงูุฏูุงู)
2. [Attendance Records (ุณุฌูุงุช ุงูุญุถูุฑ)](#attendance-records-ุณุฌูุงุช-ุงูุญุถูุฑ)
3. [Attendance Alerts (ุชูุจููุงุช ุงูุญุถูุฑ)](#attendance-alerts-ุชูุจููุงุช-ุงูุญุถูุฑ)

---

## ๐ Work Schedules (ุฌุฏุงูู ุงูุฏูุงู)

ุฌุฏุงูู ุงูุฏูุงู ุชุญุฏุฏ ุฃููุงุช ุงูุนูู ุงูุฑุณููุฉ ููููุธููู (ูู ูู ูููุ ุฃูุงู ุงูุนููุ ุงูุชุณุงูุญ ูู ุงูุชุฃุฎูุฑุ ุฅูุฎ)

### 1. `GET /api/v1/work-schedules` - ุนุฑุถ ุฌููุน ุฌุฏุงูู ุงูุฏูุงู

**ุงูุบุฑุถ**: ุงูุญุตูู ุนูู ูุงุฆูุฉ ุจุฌููุน ุฌุฏุงูู ุงูุฏูุงู ุงููุชุงุญุฉ ูู ุงููุธุงู

**ูุชู ุชุณุชุฎุฏูู**:
- ุนูุฏ ุนุฑุถ ุฌุฏุงูู ุงูุฏูุงู ูููุฏูุฑ
- ุนูุฏ ุงุฎุชูุงุฑ ุฌุฏูู ุฏูุงู ูููุธู ุฌุฏูุฏ
- ูู ููุญุฉ ุงูุชุญูู ูุฅุฏุงุฑุฉ ุงูุฌุฏุงูู

**Query Parameters**:
```
?isActive=true  // ูุนุฑุถ ุงูุฌุฏุงูู ุงููุดุทุฉ ููุท
?isActive=false // ูุนุฑุถ ุงูุฌุฏุงูู ุงููุนุทูุฉ ููุท
```

**ูุซุงู ุนูู ุงูุงุณุชุฌุงุจุฉ**:
```json
[
  {
    "id": "uuid-123",
    "code": "WS001",
    "nameAr": "ุฏูุงู ูุงูู - ููุธููู ุฅุฏุงุฑููู",
    "nameEn": "Full Time - Admin Staff",
    "workStartTime": "09:00",
    "workEndTime": "17:00",
    "workDays": "[0,1,2,3,4]",
    "lateToleranceMin": 15,
    "earlyLeaveToleranceMin": 15,
    "isActive": true
  }
]
```

**Permission ุงููุทููุจุฉ**: `attendance.work-schedules.read`

---

### 2. `POST /api/v1/work-schedules` - ุฅูุดุงุก ุฌุฏูู ุฏูุงู ุฌุฏูุฏ

**ุงูุบุฑุถ**: ุฅุถุงูุฉ ุฌุฏูู ุฏูุงู ุฌุฏูุฏ ูููุธุงู (ูุซู ุฏูุงู ุฑูุถุงูุ ุฏูุงู ุตูููุ ุฅูุฎ)

**ูุชู ุชุณุชุฎุฏูู**:
- ุนูุฏ ุฅูุดุงุก ุฌุฏูู ุฏูุงู ุฌุฏูุฏ ููุณู ูุนูู
- ุนูุฏ ุฅุถุงูุฉ ุฌุฏูู ุฏูุงู ููุณูู (ูุซู ุฑูุถุงู)
- ุนูุฏ ุชุนุฏูู ุณูุงุณุฉ ุฃููุงุช ุงูุนูู

**Body**:
```json
{
  "code": "WS004",
  "nameAr": "ุฏูุงู ุฑูุถุงู",
  "nameEn": "Ramadan Schedule",
  "workStartTime": "10:00",
  "workEndTime": "16:00",
  "workDays": "[0,1,2,3,4]",
  "lateToleranceMin": 10,
  "earlyLeaveToleranceMin": 10,
  "overtimeAfterMin": 360,
  "requireCheckIn": true,
  "requireCheckOut": true,
  "isActive": true,
  "description": "ุฌุฏูู ุงูุนูู ุฎูุงู ุดูุฑ ุฑูุถุงู"
}
```

**ุดุฑุญ ุงูุญููู**:
- `code`: ููุฏ ูุฑูุฏ ููุฌุฏูู (ูุซู WS001, WS002)
- `workStartTime`: ููุช ุจุฏุงูุฉ ุงูุนูู (ุตูุบุฉ HH:mm)
- `workEndTime`: ููุช ููุงูุฉ ุงูุนูู (ุตูุบุฉ HH:mm)
- `workDays`: ุฃูุงู ุงูุนูู ูู JSON array (0=ุงูุฃุญุฏุ 1=ุงูุฅุซูููุ ..., 6=ุงูุณุจุช)
- `lateToleranceMin`: ุงูุชุณุงูุญ ูู ุงูุชุฃุฎูุฑ ุจุงูุฏูุงุฆู (ุฅุฐุง ุชุฃุฎุฑ ุฃูู ูู ูุฐุง ูุง ูุนุชุจุฑ ุชุฃุฎูุฑ)
- `earlyLeaveToleranceMin`: ุงูุชุณุงูุญ ูู ุงูุฎุฑูุฌ ุงููุจูุฑ
- `overtimeAfterMin`: ุจุนุฏ ูู ุฏูููุฉ ูู ุงูุนูู ูุจุฏุฃ ุงุญุชุณุงุจ ุงูููุช ุงูุฅุถุงูู

**Permission ุงููุทููุจุฉ**: `attendance.work-schedules.create`

---

### 3. `GET /api/v1/work-schedules/:id` - ุนุฑุถ ุฌุฏูู ุฏูุงู ูุญุฏุฏ

**ุงูุบุฑุถ**: ุงูุญุตูู ุนูู ุชูุงุตูู ุฌุฏูู ุฏูุงู ูุงุญุฏ

**ูุชู ุชุณุชุฎุฏูู**:
- ุนูุฏ ุนุฑุถ ุชูุงุตูู ุฌุฏูู ุฏูุงู ูุนูู
- ูุจู ุชุนุฏูู ุฌุฏูู ุฏูุงู (ูุนุฑุถ ุงูุจูุงูุงุช ุงูุญุงููุฉ)

**Permission ุงููุทููุจุฉ**: `attendance.work-schedules.read`

---

### 4. `PATCH /api/v1/work-schedules/:id` - ุชุนุฏูู ุฌุฏูู ุฏูุงู

**ุงูุบุฑุถ**: ุชุญุฏูุซ ุจูุงูุงุช ุฌุฏูู ุฏูุงู ููุฌูุฏ

**ูุชู ุชุณุชุฎุฏูู**:
- ุนูุฏ ุชุบููุฑ ุฃููุงุช ุงูุนูู
- ุนูุฏ ุชุนุฏูู ุงูุชุณุงูุญ ูู ุงูุชุฃุฎูุฑ
- ุนูุฏ ุชุนุทูู/ุชูุนูู ุฌุฏูู ุฏูุงู

**Body** (ููููู ุฅุฑุณุงู ุงูุญููู ุงูุชู ุชุฑูุฏ ุชุนุฏูููุง ููุท):
```json
{
  "lateToleranceMin": 20,
  "workStartTime": "08:30"
}
```

**Permission ุงููุทููุจุฉ**: `attendance.work-schedules.update`

---

### 5. `DELETE /api/v1/work-schedules/:id` - ุญุฐู ุฌุฏูู ุฏูุงู

**ุงูุบุฑุถ**: ุญุฐู ุฌุฏูู ุฏูุงู ูู ุงููุธุงู

**ูุชู ุชุณุชุฎุฏูู**:
- ุนูุฏ ุฅูุบุงุก ุฌุฏูู ุฏูุงู ูู ูุนุฏ ูุณุชุฎุฏูุงู

**ููุงุญุธุฉ ูููุฉ**: ูุง ูููู ุญุฐู ุฌุฏูู ุฏูุงู ููุนููู ูููุธููู. ูุฌุจ ููู ุงูููุธููู ูุฌุฏูู ุขุฎุฑ ุฃููุงู.

**Permission ุงููุทููุจุฉ**: `attendance.work-schedules.delete`

---

## โ Attendance Records (ุณุฌูุงุช ุงูุญุถูุฑ)

ุณุฌูุงุช ุงูุญุถูุฑ ุชุญูุธ ุชุณุฌูู ุฏุฎูู ูุฎุฑูุฌ ุงูููุธููู ููููุงู

### 6. `POST /api/v1/attendance-records/check-in` - ุชุณุฌูู ุญุถูุฑ

**ุงูุบุฑุถ**: ุชุณุฌูู ุญุถูุฑ ุงูููุธู (ูุตููู ููุนูู)

**ูุชู ุชุณุชุฎุฏูู**:
- ุนูุฏูุง ูุตู ุงูููุธู ููุนูู ููุฑูุฏ ุชุณุฌูู ุญุถูุฑู
- ูู ุชุทุจูู ุงูููุจุงูู ุนูุฏ ุงูุถุบุท ุนูู ุฒุฑ "ุชุณุฌูู ุญุถูุฑ"

**Body**:
```json
{
  "location": "Office - Main Building",
  "notes": "ูุตูุช ูู ุงูููุนุฏ"
}
```

**ุงูุญููู ุงุฎุชูุงุฑูุฉ**:
- `checkInTime`: ุฅุฐุง ูู ุชุฑุณููุ ุณูุฃุฎุฐ ุงูููุช ุงูุญุงูู ุชููุงุฆูุงู
- `date`: ุฅุฐุง ูู ุชุฑุณููุ ุณูุฃุฎุฐ ุงูุชุงุฑูุฎ ุงูุญุงูู
- `location`: ูููุน ุงูููุธู (GPS ุฃู ุงุณู ุงูููุชุจ)
- `notes`: ููุงุญุธุงุช ุฅุถุงููุฉ

**ูุงุฐุง ูุญุฏุซ**:
1. ูุชุญูู ุงููุธุงู ุฃู ุงูููุธู ูู ูุณุฌู ุญุถูุฑู ุงูููู ุจุนุฏ
2. ุฅุฐุง ุณุฌู ูู ูุจูุ ูุฑุฌุน ุฎุทุฃ "Already checked in"
3. ูุญูุธ ููุช ุงูุญุถูุฑ ูุงููููุน
4. ูุญุฏุฏ ุงูุญุงูุฉ ูู "PRESENT"

**Permission ุงููุทููุจุฉ**: `attendance.records.check-in`

**ูุซุงู ุนูู ุงูุงุณุชุฌุงุจุฉ**:
```json
{
  "id": "uuid-456",
  "employeeId": "emp-123",
  "date": "2026-01-22",
  "clockInTime": "2026-01-22T09:15:00.000Z",
  "clockInLocation": "Office - Main Building",
  "status": "PRESENT",
  "clockOutTime": null
}
```

---

### 7. `POST /api/v1/attendance-records/check-out` - ุชุณุฌูู ุงูุตุฑุงู

**ุงูุบุฑุถ**: ุชุณุฌูู ุงูุตุฑุงู ุงูููุธู (ูุบุงุฏุฑุชู ูู ุงูุนูู)

**ูุชู ุชุณุชุฎุฏูู**:
- ุนูุฏูุง ููุชูู ุงูููุธู ูู ุนููู ููุฑูุฏ ุชุณุฌูู ุฎุฑูุฌู
- ูู ุชุทุจูู ุงูููุจุงูู ุนูุฏ ุงูุถุบุท ุนูู ุฒุฑ "ุชุณุฌูู ุงูุตุฑุงู"

**Body**:
```json
{
  "location": "Office - Main Building",
  "notes": "ุงูุชููุช ูู ุงูุนูู"
}
```

**ูุงุฐุง ูุญุฏุซ**:
1. ูุจุญุซ ุนู ุณุฌู ุญุถูุฑ ุงูููู ุงูุฐู ูู ููุณุฌู ููู ุงูุตุฑุงู ุจุนุฏ
2. ุฅุฐุง ูู ูุฌุฏุ ูุฑุฌุน ุฎุทุฃ "No check-in found"
3. ูุญุฏูุซ ุงูุณุฌู ุจููุช ุงูุงูุตุฑุงู ูุงููููุน
4. ูููู ุญุณุงุจ ุนุฏุฏ ุณุงุนุงุช ุงูุนูู ุชููุงุฆูุงู

**Permission ุงููุทููุจุฉ**: `attendance.records.check-out`

---

### 8. `GET /api/v1/attendance-records/my-attendance` - ุนุฑุถ ุญุถูุฑู ุงูุดุฎุตู

**ุงูุบุฑุถ**: ุนุฑุถ ุณุฌูุงุช ุญุถูุฑ ุงูููุธู ููุณู ููุท

**ูุชู ุชุณุชุฎุฏูู**:
- ูู ุตูุญุฉ "ุญุถูุฑู" ููููุธู
- ูุนุฑุถ ุชุงุฑูุฎ ุงูุญุถูุฑ ุงูุดุฎุตู

**Query Parameters**:
```
?dateFrom=2026-01-01
?dateTo=2026-01-31
```

**Permission ุงููุทููุจุฉ**: `attendance.records.read-own`

**ูุซุงู ุนูู ุงูุงุณุชุฌุงุจุฉ**:
```json
[
  {
    "id": "uuid-456",
    "employeeId": "emp-123",
    "date": "2026-01-22",
    "clockInTime": "2026-01-22T09:15:00.000Z",
    "clockOutTime": "2026-01-22T17:30:00.000Z",
    "status": "PRESENT",
    "lateMinutes": 15,
    "workedMinutes": 495
  },
  {
    "date": "2026-01-21",
    "status": "ABSENT"
  }
]
```

---

### 9. `GET /api/v1/attendance-records` - ุนุฑุถ ุฌููุน ุณุฌูุงุช ุงูุญุถูุฑ

**ุงูุบุฑุถ**: ุนุฑุถ ุณุฌูุงุช ุญุถูุฑ ุฌููุน ุงูููุธููู (ูููุฏูุฑ/HR)

**ูุชู ุชุณุชุฎุฏูู**:
- ูู ููุญุฉ ุชุญูู ุงููุฏูุฑ ููุฑุงูุจุฉ ุญุถูุฑ ุงููุฑูู
- ูุฅูุดุงุก ุชูุงุฑูุฑ ุดูุฑูุฉ
- ููุจุญุซ ุนู ููุธู ูุนูู

**Query Parameters**:
```
?employeeId=emp-123        // ูููุธู ูุญุฏุฏ
?dateFrom=2026-01-01       // ูู ุชุงุฑูุฎ
?dateTo=2026-01-31         // ุฅูู ุชุงุฑูุฎ
?status=PRESENT            // ุญุณุจ ุงูุญุงูุฉ
```

**ุงูุญุงูุงุช ุงููุชุงุญุฉ**:
- `PRESENT`: ุญุงุถุฑ
- `ABSENT`: ุบุงุฆุจ
- `LATE`: ูุชุฃุฎุฑ
- `HALF_DAY`: ูุตู ููู
- `ON_LEAVE`: ูู ุฅุฌุงุฒุฉ
- `HOLIDAY`: ุนุทูุฉ ุฑุณููุฉ
- `WEEKEND`: ุนุทูุฉ ุฃุณุจูุนูุฉ

**Permission ุงููุทููุจุฉ**: `attendance.records.read`

---

### 10. `POST /api/v1/attendance-records` - ุฅูุดุงุก ุณุฌู ุญุถูุฑ ูุฏููุงู

**ุงูุบุฑุถ**: ุฅุถุงูุฉ ุณุฌู ุญุถูุฑ ูุฏููุงู (ูููุฏูุฑ/HR)

**ูุชู ุชุณุชุฎุฏูู**:
- ุนูุฏ ูุณูุงู ุงูููุธู ุชุณุฌูู ุญุถูุฑู
- ูุชุตุญูุญ ุณุฌู ุญุถูุฑ ุฎุงุทุฆ
- ูุชุณุฌูู ุญุถูุฑ ููุธู ูุงู ูู ูููุฉ ุฎุงุฑุฌูุฉ

**Body**:
```json
{
  "employeeId": "emp-123",
  "date": "2026-01-22",
  "clockInTime": "2026-01-22T09:00:00.000Z",
  "clockOutTime": "2026-01-22T17:00:00.000Z",
  "status": "PRESENT",
  "workedMinutes": 480,
  "clockInLocation": "Office",
  "clockOutLocation": "Office",
  "notes": "ุชุณุฌูู ูุฏูู - ูุณู ุงูููุธู ุงูุชุณุฌูู"
}
```

**Permission ุงููุทููุจุฉ**: `attendance.records.create`

---

### 11. `GET /api/v1/attendance-records/:id` - ุนุฑุถ ุณุฌู ุญุถูุฑ ูุญุฏุฏ

**ุงูุบุฑุถ**: ุงูุญุตูู ุนูู ุชูุงุตูู ุณุฌู ุญุถูุฑ ูุงุญุฏ

**ูุชู ุชุณุชุฎุฏูู**:
- ุนูุฏ ุงูููุฑ ุนูู ุณุฌู ุญุถูุฑ ูุฑุคูุฉ ุชูุงุตููู
- ูุจู ุชุนุฏูู ุณุฌู ุญุถูุฑ

**Permission ุงููุทููุจุฉ**: `attendance.records.read`

---

### 12. `PATCH /api/v1/attendance-records/:id` - ุชุนุฏูู ุณุฌู ุญุถูุฑ

**ุงูุบุฑุถ**: ุชุนุฏูู ุจูุงูุงุช ุณุฌู ุญุถูุฑ ููุฌูุฏ

**ูุชู ุชุณุชุฎุฏูู**:
- ูุชุตุญูุญ ููุช ุญุถูุฑ ุฃู ุงูุตุฑุงู ุฎุงุทุฆ
- ูุชุญุฏูุซ ุญุงูุฉ ุงูุญุถูุฑ
- ูุฅุถุงูุฉ ููุงุญุธุงุช

**Body**:
```json
{
  "status": "LATE",
  "lateMinutes": 30,
  "notes": "ุชุฃุฎุฑ ุจุณุจุจ ุธุฑู ุทุงุฑุฆ - ุชู ุงูููุงููุฉ"
}
```

**Permission ุงููุทููุจุฉ**: `attendance.records.update`

---

### 13. `DELETE /api/v1/attendance-records/:id` - ุญุฐู ุณุฌู ุญุถูุฑ

**ุงูุบุฑุถ**: ุญุฐู ุณุฌู ุญุถูุฑ ูู ุงููุธุงู

**ูุชู ุชุณุชุฎุฏูู**:
- ุนูุฏ ุญุฐู ุณุฌู ุฎุงุทุฆ ุชู ุฅุฏุฎุงูู ุจุงูุฎุทุฃ

**Permission ุงููุทููุจุฉ**: `attendance.records.delete`

---

## ๐ Attendance Alerts (ุชูุจููุงุช ุงูุญุถูุฑ)

ุงูุชูุจููุงุช ุชููุดุฃ ุชููุงุฆูุงู ุนูุฏ ุญุฏูุซ ูุดุงูู ูู ุงูุญุถูุฑ (ุชุฃุฎูุฑุ ุบูุงุจุ ุฅูุฎ)

### 14. `GET /api/v1/attendance-alerts/my-alerts` - ุนุฑุถ ุชูุจููุงุชู ุงูุดุฎุตูุฉ

**ุงูุบุฑุถ**: ุนุฑุถ ุงูุชูุจููุงุช ุงูุฎุงุตุฉ ุจุงูููุธู ููุณู ููุท

**ูุชู ุชุณุชุฎุฏูู**:
- ูู ุตูุญุฉ "ุชูุจููุงุชู" ููููุธู
- ูุฅุธูุงุฑ ุนุฏุฏ ุงูุชูุจููุงุช ุบูุฑ ุงูููุฑูุกุฉ ูู ุงูู navbar

**Query Parameters**:
```
?status=OPEN          // ุงูุชูุจููุงุช ุงูููุชูุญุฉ
?status=PENDING       // ุงูุชูุจููุงุช ุงููุนููุฉ
?type=LATE           // ุชูุจููุงุช ุงูุชุฃุฎูุฑ ููุท
```

**Permission ุงููุทููุจุฉ**: `attendance.alerts.read-own`

**ูุซุงู ุนูู ุงูุงุณุชุฌุงุจุฉ**:
```json
[
  {
    "id": "uuid-789",
    "employeeId": "emp-123",
    "date": "2026-01-22",
    "alertType": "LATE",
    "severity": "MEDIUM",
    "message": "Late by 30 minutes",
    "messageAr": "ุชุฃุฎูุฑ 30 ุฏูููุฉ",
    "status": "OPEN",
    "attendanceRecordId": "uuid-456",
    "createdAt": "2026-01-22T09:30:00.000Z"
  }
]
```

---

### 15. `GET /api/v1/attendance-alerts` - ุนุฑุถ ุฌููุน ุงูุชูุจููุงุช

**ุงูุบุฑุถ**: ุนุฑุถ ุชูุจููุงุช ุฌููุน ุงูููุธููู (ูููุฏูุฑ/HR)

**ูุชู ุชุณุชุฎุฏูู**:
- ูู ููุญุฉ ุชุญูู ุงููุฏูุฑ ููุฑุงูุจุฉ ูุดุงูู ุงูุญุถูุฑ
- ููุจุญุซ ุนู ุชูุจููุงุช ููุธู ูุนูู
- ูุฅูุดุงุก ุชูุงุฑูุฑ ุนู ุงูุชุฃุฎูุฑุงุช ูุงูุบูุงุจุงุช

**Query Parameters**:
```
?employeeId=emp-123        // ูููุธู ูุญุฏุฏ
?type=LATE                 // ููุน ุงูุชูุจูู
?status=OPEN               // ุญุงูุฉ ุงูุชูุจูู
?dateFrom=2026-01-01       // ูู ุชุงุฑูุฎ
?dateTo=2026-01-31         // ุฅูู ุชุงุฑูุฎ
```

**ุฃููุงุน ุงูุชูุจููุงุช**:
- `LATE`: ุชุฃุฎูุฑ ุนู ููุนุฏ ุงูุญุถูุฑ
- `ABSENT`: ุบูุงุจ ุจุฏูู ุนุฐุฑ
- `EARLY_LEAVE`: ูุบุงุฏุฑุฉ ูุจูุฑุฉ
- `MISSING_CLOCK_OUT`: ูุณูุงู ุชุณุฌูู ุงูุงูุตุฑุงู
- `CONSECUTIVE_ABSENCE`: ุบูุงุจ ูุชูุฑุฑ

**ูุณุชููุงุช ุงูุฎุทูุฑุฉ**:
- `LOW`: ููุฎูุถ (ุชุฃุฎูุฑ 5-15 ุฏูููุฉ)
- `MEDIUM`: ูุชูุณุท (ุชุฃุฎูุฑ 15-30 ุฏูููุฉ)
- `HIGH`: ุนุงูู (ุชุฃุฎูุฑ 30-60 ุฏูููุฉ)
- `CRITICAL`: ุญุฑุฌ (ุชุฃุฎูุฑ ุฃูุซุฑ ูู ุณุงุนุฉ ุฃู ุบูุงุจ)

**Permission ุงููุทููุจุฉ**: `attendance.alerts.read`

---

### 16. `POST /api/v1/attendance-alerts` - ุฅูุดุงุก ุชูุจูู ูุฏููุงู

**ุงูุบุฑุถ**: ุฅุถุงูุฉ ุชูุจูู ูุฏููุงู (ูููุฏูุฑ/HR)

**ูุชู ุชุณุชุฎุฏูู**:
- ูุฅูุดุงุก ุชูุจูู ุนู ูุดููุฉ ูุงุญุธูุง ุงููุฏูุฑ
- ูุชูุซูู ุชุญุฐูุฑ ุดููู

**Body**:
```json
{
  "employeeId": "emp-123",
  "date": "2026-01-22",
  "alertType": "LATE",
  "severity": "HIGH",
  "message": "Arrived 45 minutes late without prior notice",
  "messageAr": "ุชุฃุฎุฑ 45 ุฏูููุฉ ุจุฏูู ุฅุดุนุงุฑ ูุณุจู",
  "status": "OPEN",
  "attendanceRecordId": "uuid-456"
}
```

**Permission ุงููุทููุจุฉ**: `attendance.alerts.create`

---

### 17. `GET /api/v1/attendance-alerts/:id` - ุนุฑุถ ุชูุจูู ูุญุฏุฏ

**ุงูุบุฑุถ**: ุงูุญุตูู ุนูู ุชูุงุตูู ุชูุจูู ูุงุญุฏ

**ูุชู ุชุณุชุฎุฏูู**:
- ุนูุฏ ุงูููุฑ ุนูู ุชูุจูู ูุฑุคูุฉ ุชูุงุตููู ุงููุงููุฉ

**Permission ุงููุทููุจุฉ**: `attendance.alerts.read`

---

### 18. `PATCH /api/v1/attendance-alerts/:id` - ุชุนุฏูู ุชูุจูู

**ุงูุบุฑุถ**: ุชุญุฏูุซ ุจูุงูุงุช ุชูุจูู ููุฌูุฏ

**ูุชู ุชุณุชุฎุฏูู**:
- ูุชุบููุฑ ุญุงูุฉ ุงูุชูุจูู
- ูุชุญุฏูุซ ุงููุตู

**Body**:
```json
{
  "status": "ACKNOWLEDGED",
  "messageAr": "ุชู ุงูุฅุญุงุทุฉ ุจุงูุชูุจูู - ุณูุชู ุงุชุฎุงุฐ ุงูุฅุฌุฑุงุก"
}
```

**ุญุงูุงุช ุงูุชูุจูู**:
- `OPEN`: ููุชูุญ (ุฌุฏูุฏ)
- `ACKNOWLEDGED`: ุชู ุงูุฅุญุงุทุฉ ุจู (ุงูููุธู ุฑุขู)
- `RESOLVED`: ุชู ุงูุญู (ุงุชุฎุฐ ุฅุฌุฑุงุก)
- `DISMISSED`: ุชู ุฑูุถู (ูุง ุญุงุฌุฉ ูุฅุฌุฑุงุก)

**Permission ุงููุทููุจุฉ**: `attendance.alerts.update`

---

### 19. `PATCH /api/v1/attendance-alerts/:id/resolve` - ุญู ุชูุจูู

**ุงูุบุฑุถ**: ูุถุน ุนูุงูุฉ "ูุญููู" ุนูู ุงูุชูุจูู ุจุนุฏ ุงุชุฎุงุฐ ุฅุฌุฑุงุก

**ูุชู ุชุณุชุฎุฏูู**:
- ุจุนุฏ ุงูุชุญุฏุซ ูุน ุงูููุธู ุนู ุงูุชุฃุฎูุฑ
- ุจุนุฏ ุชูุซูู ุงูุฅุฌุฑุงุก ุงููุชุฎุฐ

**Body**:
```json
{
  "resolutionNotes": "ุชู ุงูุชุญุฏุซ ูุน ุงูููุธู - ุฃูุถุญ ุณุจุจ ุงูุชุฃุฎูุฑ - ุชู ุฅุนุทุงุก ุชุญุฐูุฑ ุดููู"
}
```

**ูุงุฐุง ูุญุฏุซ**:
1. ูุบูุฑ ุญุงูุฉ ุงูุชูุจูู ุฅูู "RESOLVED"
2. ูุญูุธ ุชุงุฑูุฎ ุงูุญู
3. ูุญูุธ ูู ูุงู ุจุงูุญู (ูู ุงูู JWT token)
4. ูุญูุธ ููุงุญุธุงุช ุงูุญู

**Permission ุงููุทููุจุฉ**: `attendance.alerts.resolve`

---

### 20. `DELETE /api/v1/attendance-alerts/:id` - ุญุฐู ุชูุจูู

**ุงูุบุฑุถ**: ุญุฐู ุชูุจูู ูู ุงููุธุงู

**ูุชู ุชุณุชุฎุฏูู**:
- ุนูุฏ ุญุฐู ุชูุจูู ุฎุงุทุฆ ุชู ุฅูุดุงุคู ุจุงูุฎุทุฃ

**Permission ุงููุทููุจุฉ**: `attendance.alerts.delete`

---

## ๐ ุณููุงุฑูููุงุช ุงูุงุณุชุฎุฏุงู ุงูุดุงุฆุนุฉ

### ุงูุณููุงุฑูู 1: ููู ุนูู ุนุงุฏู ูููุธู

```
1. ุงูููุธู ูุตู ุงูุตุจุงุญ
   โ POST /attendance-records/check-in

2. ุงูููุธู ูุดูู ุญุถูุฑู ููุฐุง ุงูุดูุฑ
   โ GET /attendance-records/my-attendance?dateFrom=2026-01-01&dateTo=2026-01-31

3. ุงูููุธู ูููู ุงูุนูู
   โ POST /attendance-records/check-out

4. ุงูููุธู ูุดูู ุฅุฐุง ูู ุชูุจููุงุช ุนููู
   โ GET /attendance-alerts/my-alerts?status=OPEN
```

### ุงูุณููุงุฑูู 2: ูุฏูุฑ ูุฑุงุฌุน ุญุถูุฑ ุงููุฑูู

```
1. ุงููุฏูุฑ ูุดูู ุญุถูุฑ ุงููุฑูู ุงูููู
   โ GET /attendance-records?dateFrom=2026-01-22&dateTo=2026-01-22

2. ุงููุฏูุฑ ูุดูู ูู ูุชุฃุฎุฑ ุฃู ุบุงุฆุจ
   โ GET /attendance-alerts?status=OPEN&dateFrom=2026-01-22

3. ุงููุฏูุฑ ูุญู ุชูุจูู ุจุนุฏ ุงูุชุญุฏุซ ูุน ุงูููุธู
   โ PATCH /attendance-alerts/{id}/resolve
```

### ุงูุณููุงุฑูู 3: HR ููุดุฆ ุฌุฏูู ุฏูุงู ุฌุฏูุฏ

```
1. HR ููุดุฆ ุฌุฏูู ุฏูุงู ุฑูุถุงู
   โ POST /work-schedules

2. HR ูุดูู ุงูุฌุฏุงูู ุงููุชุงุญุฉ
   โ GET /work-schedules

3. HR ูุนุฏู ุฌุฏูู ุฏูุงู ููุฌูุฏ
   โ PATCH /work-schedules/{id}
```

### ุงูุณููุงุฑูู 4: ููุธู ูุณู ูุณุฌู ุญุถูุฑู

```
1. ุงูููุธู ูุทูุจ ูู ุงููุฏูุฑ ุฅุถุงูุฉ ุญุถูุฑู ูุฏููุงู
2. ุงููุฏูุฑ ููุดุฆ ุณุฌู ุญุถูุฑ ูุฏูู
   โ POST /attendance-records
   {
     "employeeId": "emp-123",
     "date": "2026-01-22",
     "clockInTime": "09:00",
     "clockOutTime": "17:00",
     "notes": "ุชุณุฌูู ูุฏูู - ูุณู ุงูููุธู"
   }
```

---

## ๐ ููุงุญุธุงุช ุงูุฃูุงู

1. **JWT Token ูุทููุจ**: ุฌููุน ุงูู endpoints ุชุญุชุงุฌ JWT token ูู ุงูู Authorization header
2. **Permissions**: ูู endpoint ูุญุชุงุฌ permission ูุญุฏุฏ
3. **Employee Context**: ุงูู endpoints ุงูุชู ุชุณุชุฎุฏู `@EmployeeId()` ุชุฃุฎุฐ ูุนูููุงุช ุงูููุธู ูู ุงูู JWT ุชููุงุฆูุงู
4. **Validation**: ุฌููุน ุงูุจูุงูุงุช ุงููุฏุฎูุฉ ูุชู ุงูุชุญูู ูููุง ุจุงุณุชุฎุฏุงู `class-validator`

---

## ๐ ูุตุงุฆุญ ููุงุณุชุฎุฏุงู

1. **ุงุณุชุฎุฏู Filters ุจุฐูุงุก**: ุฏุงุฆูุงู ุงุณุชุฎุฏู `dateFrom` ู `dateTo` ูุชูููู ุญุฌู ุงูุจูุงูุงุช ุงููุณุชุฑุฌุนุฉ
2. **Check-in/out ุงูุชููุงุฆู**: ููููู ุนุฏู ุฅุฑุณุงู `checkInTime` - ุณูุฃุฎุฐ ุงูููุช ุงูุญุงูู ุชููุงุฆูุงู
3. **Employee ID**: ูู endpoints ูุซู `check-in` ู `my-attendance`ุ ูุง ุชุญุชุงุฌ ุฅุฑุณุงู `employeeId` - ููุณุชุฎุฑุฌ ูู ุงูู token
4. **ุงูุชูุจููุงุช**: ูู ุงูุฃูุถู ุฅูุดุงุก ุงูุชูุจููุงุช ุชููุงุฆูุงู ุจุงุณุชุฎุฏุงู Cron Job ุจุฏูุงู ูู ูุฏููุงู

---

**ุชู ุฅูุดุงุก ูุฐุง ุงูุฏููู ูู**: 2026-01-22
